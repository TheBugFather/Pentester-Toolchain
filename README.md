# Pentest-Automater


## Prereqs
Written in Python 3.10.6 for Kali Linux Debian-based OS

## Installation
- Run the setup.py script to build a virtual environment and install all external packages in the created venv.

> Examples:<br> 
>       &emsp;&emsp;- Windows:  `python setup.py venv`<br>
>       &emsp;&emsp;- Linux:  `python3 setup.py venv`

- Once virtual env is built traverse to the (Scripts-Windows or bin-Linux) directory in the environment folder just created.
- For Windows, in the venv\Scripts directory, execute `activate` or `activate.bat` script to activate the virtual environment.
- For Linux, in the venv/bin directory, execute `source activate` to activate the virtual environment.
- If for some reason issues are experienced with the setup script, the alternative is to manually create an environment, activate it, then run pip install -r packages.txt in project root.
- To exit from the virtual environment when finished, execute `deactivate`.


## Purpose
The general strategy is to execute offensive tools, writing output to report files.
Then the report file data is read and parsed with compiled regex to reactively call
the next logical tool based on the chain of output created from the previous command.

## How to use


## Function Layout
-- pentest_automater.py --
> main &nbsp;-&nbsp; Loads the config file, runs ping scan to get hosts if subnet scan specified, 
> and launches the scan process on target hosts based on the available number of cpu's.

-- utils.py --
> CompiledRegex &nbsp;-&nbsp; Class object to store compiled regex patterns.

> error_query &nbsp;-&nbsp; Looks up the errno message to get description.

> file_handler &nbsp;-&nbsp; Read/Write file operation handler.

> print_err &nbsp;-&nbsp; Displays the error message through stderr (standard error).

> ProgramPaths &nbsp;-&nbsp; Class object to store paths associated with program operations.

> system_cmd &nbsp;-&nbsp; Executes shell-escaped system command with the ability to redirect 
> output to a file for generating scan reports.

## Exit Codes
-- pentest_automater.py --
> 0 - Successful execution (__main__)
> 1 - Unexpected exception occurred (__main__)